# Using Ubuntu 16.04 to compile against libc 2.23
FROM amd64/ubuntu:16.04@sha256:a3785f78ab8547ae2710c89e627783cfa7ee7824d3468cae6835c9f4eae23ff7

ENV DEBIAN_FRONTEND=noninteractive

ENV CROSS_TRIPLE x86_64-linux-gnu
ENV CROSS_ROOT /usr/bin

RUN apt-get update --yes && \
    apt-get upgrade --yes && \
    echo "path-exclude=/usr/share/locale/*" >> /etc/dpkg/dpkg.cfg.d/01_nodoc && \
    echo "path-exclude=/usr/share/man/*" >> /etc/dpkg/dpkg.cfg.d/01_nodoc && \
    echo "path-exclude=/usr/share/doc/*" >> /etc/dpkg/dpkg.cfg.d/01_nodoc && \
    apt-get install --no-install-recommends --yes \
      automake \
      autopoint \
      build-essential \
      curl \
      doxygen \
      libtool \
      make \
      patch \
      perl \
      pkg-config \
      po4a \
      python3 && \
    apt-get autoremove --purge --yes && \
    apt-get clean

WORKDIR /work
